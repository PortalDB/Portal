\section{Introduction}
\label{sec:intro}

% General motivation
The importance of networks in scientific and commercial domains cannot
be overstated.  Considerable research and engineering effort is being
devoted to developing effective and efficient graph representations
and analytics.  Efficient graph abstractions and analytics for {\em
  static graphs} are available to researchers and practitioners in
scope of open source platforms such as Apache Giraph, Apache Spark /
GraphX~\cite{DBLP:conf/osdi/GonzalezXDCFS14} and GraphLab /
PowerGraph~\cite{DBLP:conf/osdi/GonzalezLGBG12}.

Arguably the most interesting and important questions one can ask
about networks have to do with their evolution, rather than with their
static state.  Analysis of {\em evolving graphs} has been receiving
increasing
attention~\cite{DBLP:journals/csur/AggarwalS14,Chan2008,Kan2009,Miao2015,Ren2011,Semertzidis2015}.
Yet, despite much recent activity, and despite increased variety and
availability of evolving graph data, systematic support for scalable
querying and analysis of evolving graphs still lacks.  This support is
urgently needed, due first and foremost to the scalability and
efficiency challenges inherent in evolving graph analysis, but also to
considerations of usability and ease of dissemination.  In this paper,
we present \ql, an algebraic query language for exploratory analysis
of evolving graph, and its scalable implementation in an open-source
distributed framework, that fills this gap.

Implementing graph querying and analytics over static graphs in an
RDBMS has been receiving renewed
attention~\cite{DBLP:conf/sigmod/AbergerTOR16,DBLP:conf/sigmod/SunFSKHX15,DBLP:journals/pvldb/Xirogiannopoulos15}. The
advantages of incorporating graph querying into a general-purpose
relational system are two-fold: usability and access to the relational
data modeling and query processing infrastructure.  Our work shares
this motivation. \julia{I'll elaborate}

Our goal in developing \ql is to give users an ability to concisely
express a wide range of common analysis tasks, while at the same time
preserving inter-operability with standard SQL.  For this reason our
data model is based on the temporal relational model, and our query
language corresponds to temporal relational calculus, a two-sorted
logic with variables and quantifiers explicitly ranging over the time
domain~\cite{DBLP:reference/db/Toman09}, for graphs.

Specifically, we represent graph evolution, including changes in
topology or attribute values of vertices and edges, using the \tg
abstraction --- a collection of temporal SQL relations with
appropriate integrity constraints.  An example of a \tg is given in
Figure~\ref{fig:tg_ve}, where we show evolution of a co-authorship
network.  We now present several motivating scenarios that highlight
the features of \ql algebra.

\input{usecases}

%{\bf Contributions.}
\subsection{Contributions and roadmap}

\julia{I'll update}

We make the following contributions to support efficient and usable
analysis of evolving graphs.

\begin{enumerate}[noitemsep,leftmargin=*]
%\begin{description}[noitemsep]

\item We propose a novel representation of an evolving graph, called a \tg,
  which captures the evolution of both graph topology and vertex and edge attributes (Section~\ref{sec:model}).  

\item We define a fully compositional \tg algebra, which includes
  temporal selection, subgraph, map, aggregation, join, union, and a
  rich class of analytics (Section~\ref{sec:algebra}).

\item We develop several physical representations of the logical \tg
  data structure corresponding to different trade-offs in temporal and
  structural locality, and implement these \eat{physical
  }representations and the operations of \tg algebra in Apache Spark,
  leveraging the GraphX
  framework~\cite{DBLP:conf/osdi/GonzalezXDCFS14} 
  (Section~\ref{sec:sys}).  \eat{
\item We support efficient execution of
  Pregel-style~\cite{DBLP:conf/sigmod/MalewiczABDHLC10} analytics over the
  representative graphs of a \tg.  We also support efficient
  computation of trends over attribute values, which may themselves be
  computed, e.g., by applying a graph analytic in the previous step.
  Our support of graph analytics is discussed in
  Section~\ref{sec:analytics}.}

\item We conduct an extensive experimental evaluation with real
  datasets, demonstrating that \ql scales
  (Section~\ref{sec:exp}).\eat{, and also briefly discuss the
    usability of our framework in this section}

%\end{description}
\end{enumerate}

\eat{Our language supports a variety of operations including temporal
selection, join, and aggregation, and a rich class of analytics.
Further, we provide a scalable and extensible open-source
implementation of \ql in scope of Apache Spark, an open-source
distributed data processing framework.  We develop several novel
physical representations of evolving graphs, and novel partitioning
strategies that explore the trade-off between structural and temporal
locality.  We experimentally demonstrate that good performance can be
achieved with careful engineering.}

