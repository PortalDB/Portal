\subsection{Extension: user-defined analytics}
\label{sec:analytics}

For many types of analysis, it is necessary to compute some property,
such as PageRank of each vertex $v$, or the length of the shortest
path from a given designated vertex $u$ to each $v$, for each time
point.  This information can then be used to study how the graph
evolves over time.  \ql supports this type of analysis through {\em
  temporal user-defined analytics}, which conceptually execute an
aggregation-map operation sequence repeatedly over a set number of
iterations or until fix-point and save the result in property $pname$.
$\ttt' = \insql{pregel}^T (dir,cond,f_m,f_a,pname,iter,\ttt)$, where
all arguments are like in aggregation, with an additional $iter$
argument specifying the number of iterations to perform.

\eat{analytic over each \rg,
  compute a value for each vertex of the \rg, and then store this
  value among the attributes of the vertex (adding it to the property
  bag).}  

\eat{We provide an API that allows developers to implement custom
  analytics that can be expressed in the popular Pregel
  API~\cite{DBLP:conf/sigmod/MalewiczABDHLC10}.}

\eat{An analytic can be computed on each representative graph.
  However, we will show in Section~\ref{sec:exp} that more efficient
  methods that use batching are possible.}  \eat{Analytics cannot be
  computed directly on \tve, because they must, by definition, act
  over representative graphs.}
