[query-1]
type = line
name = slice_wikitalk_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.months=48, h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.months=48, h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='VE' and h.months=96, h.runTime/1000, NULL)) as "VE-2", avg(if(h.graphType='SG' and h.months=96, h.runTime/1000, NULL)) as "RG-2", avg(if(h.graphType='VE' and h.months=168, h.runTime/1000, NULL)) as "VE-3", avg(if(h.graphType='SG' and h.months=168, h.runTime/1000, NULL)) as "RG-3" from (select e.runTime, e.graphType, timestampdiff(month, g.date1, g.date2) as months, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster from execution e, (select l.query_id, s.arg1 as date1, s.arg2 as date2 from (select q.query_id, o.opType, o.arg1, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'wikitalk%%') as l, (select q.query_id, o.opType, o.arg1, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice') as s, (select q.query_id, o.opType from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as g where e.build_num=0 and e.query_id=g.query_id) as h group by h.cluster order by h.cluster;

[query-2]
type = line
name = subgraph_wikitalk_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.percent=20.5, h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.percent=20.5, h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='VE' and round(h.percent)=57, h.runTime/1000, NULL)) as "VE-2", avg(if(h.graphType='SG' and round(h.percent)=57, h.runTime/1000, NULL)) as "RG-2", avg(if(h.graphType='VE' and h.percent=100, h.runTime/1000, NULL)) as "VE-3", avg(if(h.graphType='SG' and h.percent=100, h.runTime/1000, NULL)) as "RG-3" from (select e.runTime, e.graphType, g.percent, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster from execution e, (select f.query_id, c.percent from selectivity c, (select l.query_id, l.arg1 as dset, s.arg1 as condit from (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'wikitalk%%') as l, (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Subgraph') as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where c.condit=f.condit and c.dataset='wikitalk') as g where e.build_num=0 and e.query_id=g.query_id) as h group by h.cluster order by h.cluster;

[query-3]
type = line
name = aggregatetime_allall_wikitalk_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "HG-1" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.dataset from execution e, (select l.query_id, s.arg1 as window, l.arg1 as dataset from (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'wikitalk%%') as l, (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Aggregation' and o.arg2='months' and o.arg3='all' and o.arg4='all') as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-4]
type = line
name = aggregatetime_allexists_wikitalk_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "HG-1" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.dataset from execution e, (select l.query_id, s.arg1 as window, l.arg1 as dataset from (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'wikitalk%%') as l, (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Aggregation' and o.arg2='months' and o.arg3='all' and o.arg4='exists') as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-5]
type = line
name = union_wikitalk_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.dataset='wikitalkstructure', h.runTime/1000, NULL)) as "HG-1" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.dataset from execution e, (select l.query_id, timestampdiff(year, s2.arg1, s1.arg2) as overlap, l.arg1 as dataset from (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'wikitalk%%') as l, (select q.query_id, o.opType, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice' and q.seqNum=2) as s1, (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice' and q.seqNum=5) as s2, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Union') as u, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=6) as r where l.query_id=s1.query_id and s1.query_id=s2.query_id and s2.query_id=u.query_id and u.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-6]
type = line
name = components_wikitalk_vertices
xlabel = Cluster size
ylabel = Runtime, minutes
sql = select h.cluster as "Slaves", avg(if(h.graphType='SG' and h.window=24, h.runTime/60000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.window=24, h.runTime/60000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.window=24, h.runTime/60000, NULL)) as "HG-1", avg(if(h.graphType='SG' and h.window=60, h.runTime/60000, NULL)) as "RG-2", avg(if(h.graphType='OG' and h.window=60, h.runTime/60000, NULL)) as "OG-2", avg(if(h.graphType='HG' and h.window=60, h.runTime/60000, NULL)) as "HG-2", avg(if(h.graphType='SG' and h.window=96, h.runTime/60000, NULL)) as "RG-3", avg(if(h.graphType='OG' and h.window=96, h.runTime/60000, NULL)) as "OG-3", avg(if(h.graphType='HG' and h.window=96, h.runTime/60000, NULL)) as "HG-3" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.window from execution e, (select l.query_id, timestampdiff(month, s.arg1, s.arg2) as window, l.parts from (select q.query_id, o.opType, o.arg1, o.partitionS as parts from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'wikitalk%%') as l, (select q.query_id, o.opType, o.arg1, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice' and q.seqNum=2) as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='ConnectedComponents' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-7]
type = line
name = pagerank_wikitalk_vertices
xlabel = Cluster size
ylabel = Runtime, minutes
sql = select h.cluster as "Slaves", avg(if(h.graphType='SG' and h.window=24, h.runTime/60000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.window=24, h.runTime/60000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.window=24, h.runTime/60000, NULL)) as "HG-1", avg(if(h.graphType='SG' and h.window=60, h.runTime/60000, NULL)) as "RG-2", avg(if(h.graphType='OG' and h.window=60, h.runTime/60000, NULL)) as "OG-2", avg(if(h.graphType='HG' and h.window=60, h.runTime/60000, NULL)) as "HG-2", avg(if(h.graphType='SG' and h.window=96, h.runTime/60000, NULL)) as "RG-3", avg(if(h.graphType='OG' and h.window=96, h.runTime/60000, NULL)) as "OG-3", avg(if(h.graphType='HG' and h.window=96, h.runTime/60000, NULL)) as "HG-3" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.window from execution e, (select l.query_id, timestampdiff(month, s.arg1, s.arg2) as window, l.parts from (select q.query_id, o.opType, o.arg1, o.partitionS as parts from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'wikitalk%%') as l, (select q.query_id, o.opType, o.arg1, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice' and q.seqNum=2) as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Pagerank' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-8]
type = line
name = slice_ngrams_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.years=30, h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.years=30, h.runTime/1000, NULL)) as "RG-1" from (select e.runTime, e.graphType, timestampdiff(year, g.date1, g.date2) as years, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster from execution e, (select l.query_id, s.arg1 as date1, s.arg2 as date2 from (select q.query_id, o.opType, o.arg1, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'nGrams%%') as l, (select q.query_id, o.opType, o.arg1, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice') as s, (select q.query_id, o.opType from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as g where e.build_num=0 and e.query_id=g.query_id) as h group by h.cluster order by h.cluster;

[query-9]
type = line
name = aggregatetime_allall_ngrams_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "HG-1" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.dataset from execution e, (select l.query_id, s.arg1 as window, l.arg1 as dataset from (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'nGrams%%') as l, (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Aggregation' and o.arg2='years' and o.arg3='all' and o.arg4='all') as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-10]
type = line
name = aggregatetime_allexists_ngrams_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "HG-1" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.dataset from execution e, (select l.query_id, s.arg1 as window, l.arg1 as dataset from (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'nGrams%%') as l, (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Aggregation' and o.arg2='years' and o.arg3='all' and o.arg4='exists') as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-11]
type = line
name = union_ngrams_materialize
xlabel = Cluster size
ylabel = Runtime, seconds
sql = select h.cluster as "Slaves", avg(if(h.graphType='VE' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "VE-1", avg(if(h.graphType='SG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.dataset='nGramsstructure', h.runTime/1000, NULL)) as "HG-1" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.dataset from execution e, (select l.query_id, timestampdiff(year, s2.arg1, s1.arg2) as overlap, l.arg1 as dataset from (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'nGrams%%') as l, (select q.query_id, o.opType, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice' and q.seqNum=2) as s1, (select q.query_id, o.opType, o.arg1 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice' and q.seqNum=5) as s2, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Union') as u, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Materialize' and q.seqNum=6) as r where l.query_id=s1.query_id and s1.query_id=s2.query_id and s2.query_id=u.query_id and u.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;

[query-12]
type = line
name = components_ngrams_vertices
xlabel = Cluster size
ylabel = Runtime, minutes
sql = select h.cluster as "Slaves", avg(if(h.graphType='SG' and h.window=30, h.runTime/60000, NULL)) as "RG-1", avg(if(h.graphType='OG' and h.window=30, h.runTime/60000, NULL)) as "OG-1", avg(if(h.graphType='HG' and h.window=30, h.runTime/60000, NULL)) as "HG-1", avg(if(h.graphType='SG' and h.window=60, h.runTime/60000, NULL)) as "RG-2", avg(if(h.graphType='OG' and h.window=60, h.runTime/60000, NULL)) as "OG-2", avg(if(h.graphType='HG' and h.window=60, h.runTime/60000, NULL)) as "HG-20", avg(if(h.graphType='SG' and h.window=96, h.runTime/60000, NULL)) as "RG-3", avg(if(h.graphType='OG' and h.window=96, h.runTime/60000, NULL)) as "OG-3", avg(if(h.graphType='HG' and h.window=96, h.runTime/60000, NULL)) as "HG-3" from (select e.runTime, e.graphType, convert(substring_index(e.clusterConfig, 's_', 1), unsigned integer) as cluster, f.window from execution e, (select l.query_id, timestampdiff(year, s.arg1, s.arg2) as window, l.parts from (select q.query_id, o.opType, o.arg1, o.partitionS as parts from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Load' and o.arg1 like 'nGrams%%') as l, (select q.query_id, o.opType, o.arg1, o.arg2 from query_op_map q, operation o where q.op_id=o.op_id and o.opType='Slice' and q.seqNum=2) as s, (select q.query_id from query_op_map q, operation o where q.op_id=o.op_id and o.opType='ConnectedComponents' and q.seqNum=3) as r where l.query_id=s.query_id and s.query_id=r.query_id) as f where e.build_num=0 and e.query_id=f.query_id) as h group by h.cluster order by h.cluster;


